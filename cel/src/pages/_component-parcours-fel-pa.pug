//----------------------
//- DO NOT EDIT
extends pug-partials/base
//----------------------
include ../../../common/src/components/pictoBlock/pictoBlock
include ../../../common/src/components/wysiwyg/wysiwyg
include ../../../common/src/components/separator/separator
include ../../../common/src/components/stepByStep/stepByStep
include ../../../common/src/components/assuranceBand/assuranceBand
include ../../../common/src/components/arrowBox/arrowBox
include ../../../common/src/components/toggleCheck/toggleCheck
include ../../../common/src/components/choiceBox/choiceBox
include ../../../common/src/components/moreLessInput/moreLessInput
include ../../../common/src/components/selectOptions/selectOptions
include ../../../common/src/components/timeLine/timeLine

//- Main variables
block variables
  - var title          = "Parcours service FEL / PA"
  - var page           = ""
  - var bodyClass      = ""
  - var description    = "Parcours service FEL / PA"
  - var noHeaderFooter = true
  - var demoMode       = true

//- JS only for that page
block JS


//- Page content
block content
  .c-wysiwyg
    h2(style="margin:30px 0 0;") Timeline FEL

  +demo({
    desc : `
    - Nouveaux Style de timeline plus <br>
    - Vous pouvez ajouter un timeline plus grand dans la version mobile tout on utilisons la class .u-theme-magenta
    `
  })
    +timeLine({
      type:  "progressBar",
      currentStep: 2,
      stepWording: ['Mon identité', 'vérification par sms', 'saisi code']
    }).u-hideSmall

  .c-wysiwyg
    h2 Facture en ligne
  +demo({
    desc: "Facture en ligne"
  })
    .l-wrapper.u-bg-grey-light.u-padding-a-50
      +column({
        colConfig: '50-50'
      })

        .c-column__col.u-hideSmall
          img(src="../images/contrib/textImage.jpg" alt="").u-padding-r-50

        .c-column__col
          .c-wysiwyg.u-margin-b-50
            h2  Facture en ligne
            p Activez gratuitement l’option Facture en ligne : Une solution rapide, facile et pratique pour en finir avec la paperasse*.
              br
              a(href='#' data-e-modal-open='factureEnLigne') En savoir plus

          +radioMat({
            label: 'Je souscris et je valide les <a href="#">conditions générales de ventes de la facture en ligne</a>',
            id: "radioMat1",
            name: 'radio'
          })
          +radioMat({
            label: 'non merci',
            id: "radioMat2",
            name: 'radio'
          })

    +modal({
        target: '{"target": "factureEnLigne"}',
        size: "c-modal__content--large"
      }).c-modalCel--FEL
        img(src="../images/contrib/facture_fel_popin.jpg", alt="")
        .u-padding-a-50
          h2.u-heading-2.u-textCenter.u-margin-b-50 Facture en ligne

          <ul class="c-advantages__group l-wrapper--large u-theme-coral">
            <li class="c-advantages__item"><span class="c-advantages__icon u-theme-color icon icon-factureenligne"></span>
              <div class="c-advantages__text c-wysiwyg">Vous accédez à vos factures en quelques clics n’importe où, 24h/24 et 7j/7 pendant 5 ans.</div>
            </li>
            <li class="c-advantages__item"><span class="c-advantages__icon u-theme-color icon icon-accountTR"></span>
              <div class="c-advantages__text c-wysiwyg">Vous vous simplifiez la vie, toutes vos factures sont déjà rangées dans votre Espace Client sécurisé.</div>
            </li>
            <li class="c-advantages__item"><span class="c-advantages__icon u-theme-color icon icon-thumbs-o-up"></span>
              <div class="c-advantages__text c-wysiwyg">Vos factures papier ne s’accumulent plus à la maison, vous gagnez de la place !</div>
            </li>

          </ul>

          .l-wrapper
            +arrowBox({
              customTheme: 'black',
              largePadding: true
            }).c-arrowBox--arrowTop
              +wysiwyg({
                noMarge: true
              })
                p: b Bon à savoir :
                ul
                  li: span.u-list__item.u-list__item--check.u-theme-color-before Vous pouvez modifier votre e-mail de contact, à tout moment, dans votre Espace Client, rubrique "Mon Profil".
                  li: span.u-list__item.u-list__item--check.u-theme-color-before Vous ne recevrez plus de factures papier.
                  li: span.u-list__item.u-list__item--check.u-theme-color-before Vos factures seront accessibles dans votre Espace Client  sécurisé pendant 5 ans et ne porteront plus la mention "duplicata". Vous pourrez donc les utiliser comme justificatif de domicile.




  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") pictoBlock - variantes :

  +demo({
    desc: ""
  })
    .l-wrapper--medium
      .u-bg-grey-light.u-padding-a-10
        +pictoBlock({
          iconName: 'icon-thin_check',
          iconClasses: 'u-fontSize-30',
          topToLeft: true
        }).u-color-success
          strong.u-textCenter Message de succès

      .u-bg-grey-light.u-padding-a-10
        +pictoBlock({
          iconName: 'icon-close',
          iconClasses: 'u-fontSize-30',
          topToLeft: true
        }).u-color-error
          strong.u-textCenter Message d'erreur

      +pictoBlock({
        absoluLeft: true,
        iconName: 'icon-contact-mail2',
        topToLeft: true,
        email: true
      }).is-valid.l-wrapper--small.u-padding-spacer
        +inputMat({
          type : 'email',
          label: 'Email',
          placeholder: 'Saisissez votre email',
          name: 'email',
          required: true,
          pattern: 'email',
          dataValidation: {
            typing: false,
            validations: {
              customError: 'Erreur type customError',
              patternMismatch: 'format de mail incorrect',
              valueMissing: 'champs obligatoire'
            }
          }
        })

      +pictoBlock({
        absoluLeft: true,
        iconName: 'icon-contact-mail2',
        topToLeft: true,
        email: true
      }).l-wrapper--small.u-padding-spacer
        p.u-color-grey Email
        p
          b johndoe@wanadoo.com


  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") Composant wysiwyg

  +demo({
    desc: "Ajouter la classe <code>c-wysiwyg--marge</code> au composant pour le doter de marges"
  })
    +wysiwyg({
      noMarge: true
    })
      h3.u-textCenter Vous souhaitez activer le service Facture en ligne

      p.u-textCenter Pour souscrire, il vous suffit d'abord d’opter pour le <b>prélèvement automatique</b>. <br/>Finis les oublis ou les relances de paiements, votre compte est automatiquement prélevé 14 jours après l'édition de votre facture
      p.u-textCenter: b En complément des avantages de la Facture en ligne, vous bénéficierez aussi de ceux du Prélèvement automatique

      p.u-textCenter.u-theme-green
        a.u-link.u-link--arrow.u-theme-color.u-bg-grey-light.u-bg-hover(href="#") Non merci
        a.u-link.u-link--arrow.u-theme-bg.u-theme-bg-hover(href="#") Continuer
      p.u-textCenter
        span.u-fontSize-small: b Pour continuer munissez-vous de votre IBAN.

      p.u-textCenter
        a.u-link.u-theme-color.u-theme-color-hover(href="#") Ajouter de nouvelles coordonnées bancaires

    +wysiwyg


  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") Composant separator - pour créer des espaces entre composants :

  +demo({
    desc: ""
  })
    .l-wrapper--medium
      +separator('marge')
      +separator
      +separator('marge')

  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") Composant stepByStep

  +demo({
    desc: ""
  })
    +stepByStep({
      carouselID: 'demo-fel'
    })
      +stepByStepElem({
        text: "Souscrire au Prélèvement automatique puis à la Facture en ligne",
        imgUrl: "contrib/illu-souscription-fel.png"
      })
      +stepByStepElem({
        text: "Signer votre Mandat SEPA si besoin",
        imgUrl: "contrib/illu-mandat-sepa-signature.png"
      })
      +stepByStepElem({
        text: "Le prélèvement automatique et la Facture en ligne sont activés !",
        imgUrl: "contrib/illu-pouce-tchek.png"
      })


  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") Composant assuranceBand :

  +demo({
    desc: ""
  })
    +assuranceBand({
      pictoFont: true
    })


  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") Elements de formulaire agencés en une et deux colonnes :

  +demo({
    desc: ""
  })
    +formMat
      .l-wrapper--small.l-wrapper--iban
        +inputMat({
          label: 'Nom du titulaire du compte',
          type: "text",
          id: "nom-titu",
          name: "nom-titu",
          required: true,
          placeholder: 'Ex : Martinez',
          dataValidation: true
        })

        +inputMat({
          label: 'Votre IBAN',
          type: "text",
          id: "user-iban",
          name: "user-iban",
          iban: true,
          placeholder: 'Ex : FR 1235 1231 1231 1231',
          check: true,
          required: true,
          dataValidation: {
            validations: {
              valueMissing: 'Champ obligatoire'
            }
          }
        })

      .l-wrapper--medium
        +separator('marge')

      .l-wrapper--medium
        .c-column.c-column--50-50.c-column--spaced
          .c-column__col
            +inputMat({
              label: 'Nom du titulaire du compte',
              type: "text",
              id: "demo-input1",
              name: "demo-input1",
              required: true,
              placeholder: 'Ex : Martinez',
              dataValidation: true
            })
            +inputMat({
              label: 'Nom du titulaire du compte',
              type: "text",
              id: "demo-input2",
              name: "demo-input2",
              required: true,
              placeholder: 'Ex : Martinez',
              dataValidation: true
            })

          .c-column__col
            +inputMat({
              label: 'Nom du titulaire du compte',
              type: "text",
              id: "demo-input3",
              name: "demo-input3",
              required: true,
              placeholder: 'Ex : Martinez',
              dataValidation: true
            })
            +inputMat({
              label: 'Nom du titulaire du compte',
              type: "text",
              id: "demo-input4",
              name: "demo-input4",
              required: true,
              placeholder: 'Ex : Martinez',
              dataValidation: true
            })


  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") arrowBox : variantes

  +demo({
    desc: "arrowBox : FEL black variantes"
  })
    .l-wrapper--medium
      +arrowBox({
        customTheme: 'black',
        largePadding: true
      }).c-arrowBox--arrowTop
        +wysiwyg({
          noMarge: true
        })
          p: b Bon à savoir :
          ul
            li: span.u-list__item.u-list__item--check.u-theme-color-before Vous pouvez modifier votre e-mail de contact, à tout moment, dans votre Espace Client, rubrique "Mon Profil".
            li: span.u-list__item.u-list__item--check.u-theme-color-before Vous ne recevrez plus de factures papier.
            li: span.u-list__item.u-list__item--check.u-theme-color-before Vos factures seront accessibles dans votre Espace Client  sécurisé pendant 5 ans et ne porteront plus la mention "duplicata". Vous pourrez donc les utiliser comme justificatif de domicile.

      +separator('marge')

  +demo({
    desc: "arrowBox : variantes magenta"
  })
    .l-wrapper--medium
      +arrowBox({
        customTheme: 'magentaLight',
        largePadding: true
      }).c-arrowBox--arrowTop
        +wysiwyg({
          noMarge: true
        })
          p: b Bon à savoir :
          ul
            li: span.u-list__item.u-list__item--check.u-theme-color-before Vous pouvez modifier votre e-mail de contact, à tout moment, dans votre Espace Client, rubrique "Mon Profil".
            li: span.u-list__item.u-list__item--check.u-theme-color-before Vous ne recevrez plus de factures papier.
            li: span.u-list__item.u-list__item--check.u-theme-color-before Vos factures seront accessibles dans votre Espace Client  sécurisé pendant 5 ans et ne porteront plus la mention "duplicata". Vous pourrez donc les utiliser comme justificatif de domicile.

      +separator('marge')

      +arrowBox({
        customTheme: 'magentaLight',
        imgLeft: "[../images/contrib/illu-facture-mobile.png, small], [../images/contrib/illu-facture-desktop.png, medium]"
      }).c-arrowBox--arrowTop
        +wysiwyg({
          noMarge: true
        })
          p: b Vous recevrez tous les deux mois une facture sur la base de vos consommations.
          p Le montant sera prélevé 14 jours après la date d'émission de votre facture.

      +separator('marge')

  +demo({
    desc: "arrowBox : gris"
  })
      +arrowBox({
        imgRight: "[../images/contrib/ill-mensualisation-mobile.png, small], [../images/contrib/ill-mensualisation-desktop.png, medium]"
      }).c-arrowBox--arrowTop
        +wysiwyg({
          noMarge: true
        })
          p: b Vos prélèvements
          p Vous êtes prélevé <b>tous les 2 mois</b> après l'émission de votre nouvelle facture.
          p Le montant <b>sera prélevé 14 jours</b> après la date d'émission de votre facture.
          p Vous recevrez tous les deux mois une facture sur la base de vos consommations.

        +separator('marge')


  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") radioBlockMat + inputMat (en contenu) :

  +demo({
    desc: ""
  })
    .l-wrapper--medium
      +radioBlockMat({
        label: 'Mr Alex Smith',
        id: "radioBlockMatBlock1",
        name: 'radioBlockMatBlock',
        blockMode: true
      })
        | Société Générale
        br
        | XX 2222

      +radioBlockMat({
        label: 'Mme Alice Smith',
        id: "radioBlockMatBlock2",
        name: 'radioBlockMatBlock',
        blockMode: true
      })
        | Société Générale
        br
        | XX 2222

      +radioBlockMat({
        label: 'Ajouter des coordonnées',
        id: "radioBlockMatBlock3",
        name: 'radioBlockMatBlock',
        blockMode: true
      })
        .l-wrapper--small
          +inputMat({
            label: 'Nom du titulaire du compte',
            type: "text",
            id: "nom-titu2",
            name: "nom-titu2",
            required: true,
            placeholder: 'Ex : Martinez',
            dataValidation: true
          })

          +inputMat({
            label: 'Votre IBAN',
            type: "text",
            id: "user-iban2",
            name: "user-iban2",
            iban: true,
            placeholder: 'Ex : FR 1235 1231 1231 1231',
            check: true,
            required: true,
            dataValidation: {
              validations: {
                valueMissing: 'Champ obligatoire'
              }
            }
          })


  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") toggleCheck :

  +demo({
    desc: `
      Utilise le switch-toggle<br/>
      Voir démo du toggleCheck pour plus de détails<br/>
      Pour le bon fonctionnement du toggle :<br/>
      - Attribuer un attribut <code>data-e-switch-toggle</code> à <code>c-toggleCheckElem__checkBox</code> et <code>c-toggleCheckElem__title</code><br>
      - Attribuer un attribut <code>data-e-switch-toggle-name</code> , <code>aria-hidden</code> à true ou false aux deux contenus à échanger à l'intérieur de <code>c-toggleCheckElem__content</code> et enfin un attribut <code>hidden</code> sur celui à masquer par défaut<br>
      - <code>data-e-switch-toggle</code> et <code>data-e-switch-toggle-name</code> doivent avoir la même valeur
    `
  })
    .l-wrapper--medium.u-padding-spacer
      +toggleCheck
        +toggleCheckElem({
          labelTitle: "Choisissez la simplicité avec la Facture en ligne",
          checkBoxId: "felauto",
          toggleTarget: 'felauto',
          boxBorder: true
        })
          div(data-e-switch-toggle-name='felauto' aria-hidden='true' hidden)
            +wysiwyg({
              noMarge: true
            })
              p.u-textCenter
                +toolTip({
                  info: true,
                  modalTarget: "#",
                  labelText: "Bon à savoir"
                })(data-e-modal-open="modal2")

                +modal({
                  target: `{
                    "target": "modal2"
                  }`
                })
                  .u-padding-a-20
                    +wysiwyg({
                      noMarge: true
                    })
                      p: b Bon à savoir :
                      ul
                        li: span.u-list__item.u-list__item--check.u-theme-color-before Vous pouvez modifier votre e-mail de contact, à tout moment, dans votre Espace Client, rubrique "Mon Profil".
                        li: span.u-list__item.u-list__item--check.u-theme-color-before Vous ne recevrez plus de factures papier.
                        li: span.u-list__item.u-list__item--check.u-theme-color-before Vos factures seront accessibles dans votre Espace Client  sécurisé pendant 5 ans et ne porteront plus la mention "duplicata". Vous pourrez donc les utiliser comme justificatif de domicile.

        +toggleCheckElem({
          labelTitle: "Choisissez la simplicité avec la Facture en ligne",
          checkBoxId: "plop6",
          toggleTarget: 'paauto',
          boxBorder: true
        })
          div(data-e-switch-toggle-name='paauto' aria-hidden='false')
            +wysiwyg({
              noMarge: true
            })
              p Fini le temps perdu à classer ses papiers !</br>Vos factures sont classées et conservées pendant 5 ans dans votre Espace Client sécurisé.
          div(data-e-switch-toggle-name='paauto' aria-hidden='true' hidden)
            +wysiwyg({
              noMarge: true
            })
              p <strong> Félicitations !</strong> Vos factures sont classées et conservées pendant 5 ans dans votre Espace Client sécurisé.




  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") toggleCheck :

  +demo({
    desc: ""
  })

      +wysiwyg({
        noMarge: true
      })
        p.u-textCenter Pour signer mon mandat, je reçois un code de sécurité par

      .u-textCenter.u-margin-t-15
        +radioSwitchMat({
          label1: 'Email',
          label2: 'SMS',
          id1:    'email-pref',
          id2:    'sms-pref',
          name:   'radioswitch'
        })

      +separator('marge')


  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") choiceBox + contenu :

  +demo({
    desc: ""
  })
    .l-wrapper--medium
      +choiceBox({
        smallSeparator: true
      })
        +choiceBoxElem({
          smallPadding: true
        }).u-bg-grey-light
          +wysiwyg({
            noMarge: true
          })
            p: strong Vos mensualités
            p: span.u-fontSize-small  Vous serez prélevé tous les <b>12 du mois* pendant 11 mois</b>, calculé sur la base de votre historique de consommation.

          +moreLessInput({
            labelText: "Vos mensualités TCC/mois",
            inputID: "usermensualites",
            inputValue: '65.40',
            settings: {min: 58.86, max: 71.94, step: 1, errorMsg: 'Ce champ ne peut contenir que des chiffres'},
            blockRight: "€"
          }).c-moreLessInput--large.u-margin-t-40.u-margin-small-t-40

          p.u-margin-t-10.u-margin-small-t-10.u-textCenter: b.u-fontSize-small TTC/mois

        +choiceBoxSeparator

        +choiceBoxElem({
          smallPadding: true
        }).u-bg-grey-light
          +wysiwyg({
            noMarge: true
          })
            p: strong Votre facture
            p: span.u-fontSize-small  Vous recevrez une unique <b>facture de régularisation</b>** le 12ème mois sur votre Espace Client.

          .u-textCenter
            img(src="../images/contrib/illu-facture-full.png" alt="")


  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") selectOptions :

  +demo({
    desc: ""
  })
    .l-wrapper--large
      +selectOptions
        +selectOptionBlock({
          fontIcon: "icon-calendar",
          textButton: "Activer la mensualisation"
        })
          h3.c-selectOptionBlock__title.u-heading-4.u-margin-b-10.u-theme-color La Mensualisation
          p Ayez une meilleure visibilité sur votre budget et payez la même somme tous les mois*.


  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") checkboxMat + bloc de texte aligné :

  +demo({
    desc: `
      - <code>choiceWrapperMat</code> sert de conteneur aux composants <code>checkboxMat</code> et <code>radioboxMat</code><br/>
      - la classe <code>c-radioBlockMat__labelPadding</code> permet d'aligner un élément avec le label d'un composant <code>checkboxMat</code>
    `
  })
    .l-wrapper--medium
      +choiceWrapperMat
        +checkboxMat({
          label: "<b>Choisissez la simplicité avec la Facture en ligne</b>",
          id: 'choose-fel2',
          name: 'choose-fel2'
        })

      +wysiwyg({
        noMarge: true
      })
        p.c-radioBlockMat__labelPadding Fini le temps perdu à classer ses papiers !<br/>Vos factures sont classées et conservées pendant 5 ans dans votre Espace Client sécurisé.

      +choiceWrapperMat
        +checkboxMat({
          label: "J'ai pris connaissance et j'accepte les <a href=\"#\">Conditions Générales d’Utilisation</a> de la Facture en ligne",
          id: 'accept-cgv',
          name: 'accept-cgv'
        })

  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") fieldInfo : message de validation de formulaire

  +demo({
    desc: ""
  })
    .l-wrapper--medium
      +fieldInfo({
        typeMessage: 'success',
        icon: 'icon-thin_check'
      })
        p Message de succès

      +fieldInfo({
        typeMessage: 'error',
        icon: 'icon-close'
      })
        p Message d'erreur


  h2(style="font-size:2rem;font-weight:bold;margin:10px 0 20px;") Les boutons : btnWrapper + baseBtn

  +demo({
    desc: ""
  })
    .l-wrapper--large
      +btnWrapper.c-btnWrapper--alignLeft
        +baseBtn({
          text: "Retourner au tableau de bord",
          iconLeft: "icon-chevron-left",
          empty: true
        })

      +btnWrapper.c-btnWrapper--fullOnMobile.u-theme-green
        +baseBtn({
          text: "Valider"
        }).c-baseBtn--large
